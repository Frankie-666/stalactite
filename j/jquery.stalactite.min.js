/**
* jQuery Stalactite : Lightweight Element Packing
* Examples and documentation at: http://jonobr1.github.com/stalactite
* Copyright (c) 2011 Jono Brandel
* Version: 0.1 (8-SEPTEMBER-2011)
* Requires: jQuery v1.6.2 or later
*
* Copyright 2011 jonobr1
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

(function(a){function u(h){for(var h=h[0],a=-1,c=0;c<d.length;c++)if(h===d[c].n){a=c;break}return a}function x(a,d){var c=a.children().s(d.e);d.l&&c.b({position:"relative",display:"inline-block",verticalAlign:"top",opacity:0,zIndex:-1});return c}function k(a,d,c,l){l=a.children().u(l.e);a={x:a.a().left+(a.outerWidth()-a.width())/2,y:a.a().top+(a.outerHeight()-a.height())/2};d.apply(this,[l,a,c.g,c.f,c.c])}var d=[];a.j.k=function(h){function q(f){var b=f.a().left+(f.outerWidth()-f.width())/2,f=f.a().top+
(f.outerHeight()-f.height())/2,c=a("#stalactite-loader");0>=c.length&&(c=a('<p class="stalactite-loader" style="display: none;"/>'));c.b({position:"absolute",top:f,left:b}).A(e.r).w("body");c.find("img").load(function(){c.z()})}function c(c,b,d){b=a.extend({},b,e.t);b.opacity==c.b("opacity")&&delete b.opacity;c.b("z-index","auto").stop().v(b,e.duration,e.p,d)}var l=!1,e=a.extend({},a.j.k.m,h);e.e=e.d+"-loaded";return this.o(function(){function f(b,h,k,r,j){if(j>=b.length)d[p]?d[p]=a.extend(d[p],g):
d.push(a.extend({n:b.parent("div")[0]},g)),e.complete.apply(this),a(e.d+"-loader").q();else if(l&&e.i)a(e.d+"-loader").q();else{var n=a(b[j]),i=a(b[j-1]),m=n.a().left,q=m+n.outerWidth(),t=n.a().top;n.outerHeight();if(0<i.length&&m<i.a().left&&0<j&&j!==g.c)s++,g.h=s,g.g=k=r,g.f=r=j-1,g.c=j;var o=0;if(0<s){for(var v=r;v>=k;v--){var i=a(b[v]),w=i.a().left,u=w+i.outerWidth(),i=i.a().top+i.outerHeight();w>=q||u<=m||o<i&&(o=i)}o-=t}else o=-parseInt(n.b("margin-top").toString().replace("px",""));c(n,{opacity:1,
marginTop:"+="+o},function(){f(b,h,k,r,j+1)})}}var b=a(this),h=null,y=x(b,e);q(b);var p=u(b),g={h:0,g:0,f:0,c:0};0<=p&&0<b.children().index(y[0])&&(g=d[p]);var s=g.h;e.i&&(b.b("width","auto"),a(window).bind("resize",function(){h?clearTimeout(h):q(b);l=!0;h=setTimeout(function(){l=!1;h=null;s=0;g={h:0,g:0,f:0,c:0};d=[];k(b,f,g,e)},2E3)}));var m=b.children().s(e.e).find("img, embed, iframe, audio, video");b.find(":not(img, embed, iframe, audio, video)");var t=0;0<m.length?m.o(function(){var d=a(this).load(function(){c(d);
t++;t>=m.length&&k(b,f,g,e)})}):k(b,f,g,e)})};a.j.k.m={duration:150,p:"swing",d:".stalactite",l:!0,i:!0,r:'<img src="data:image/gif;base64, R0lGODlhEAAQAPQAAP///zMzM/n5+V9fX5ycnDc3N1FRUd7e3rm5uURERJGRkYSEhOnp6aysrNHR0WxsbHd3dwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAFUCAgjmRpnqUwFGwhKoRgqq2YFMaRGjWA8AbZiIBbjQQ8AmmFUJEQhQGJhaKOrCksgEla+KIkYvC6SJKQOISoNSYdeIk1ayA8ExTyeR3F749CACH5BAkKAAAALAAAAAAQABAAAAVoICCKR9KMaCoaxeCoqEAkRX3AwMHWxQIIjJSAZWgUEgzBwCBAEQpMwIDwY1FHgwJCtOW2UDWYIDyqNVVkUbYr6CK+o2eUMKgWrqKhj0FrEM8jQQALPFA3MAc8CQSAMA5ZBjgqDQmHIyEAIfkECQoAAAAsAAAAABAAEAAABWAgII4j85Ao2hRIKgrEUBQJLaSHMe8zgQo6Q8sxS7RIhILhBkgumCTZsXkACBC+0cwF2GoLLoFXREDcDlkAojBICRaFLDCOQtQKjmsQSubtDFU/NXcDBHwkaw1cKQ8MiyEAIfkECQoAAAAsAAAAABAAEAAABVIgII5kaZ6AIJQCMRTFQKiDQx4GrBfGa4uCnAEhQuRgPwCBtwK+kCNFgjh6QlFYgGO7baJ2CxIioSDpwqNggWCGDVVGphly3BkOpXDrKfNm/4AhACH5BAkKAAAALAAAAAAQABAAAAVgICCOZGmeqEAMRTEQwskYbV0Yx7kYSIzQhtgoBxCKBDQCIOcoLBimRiFhSABYU5gIgW01pLUBYkRItAYAqrlhYiwKjiWAcDMWY8QjsCf4DewiBzQ2N1AmKlgvgCiMjSQhACH5BAkKAAAALAAAAAAQABAAAAVfICCOZGmeqEgUxUAIpkA0AMKyxkEiSZEIsJqhYAg+boUFSTAkiBiNHks3sg1ILAfBiS10gyqCg0UaFBCkwy3RYKiIYMAC+RAxiQgYsJdAjw5DN2gILzEEZgVcKYuMJiEAOwAAAAAAAAAAAA==" />',
t:{},complete:function(a){return a}}})(jQuery);